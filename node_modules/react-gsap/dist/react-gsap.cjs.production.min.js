"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var t,e,r=require("react"),n=(t=r)&&"object"==typeof t&&"default"in t?t.default:t,i=require("gsap"),o=require("react-is"),s=require("gsap/dist/ScrollTrigger");function a(){return(a=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t}).apply(this,arguments)}function l(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function u(t,e){if(null==t)return{};var r,n,i={},o=Object.keys(t);for(n=0;n<o.length;n++)e.indexOf(r=o[n])>=0||(i[r]=t[r]);return i}function p(t){if(void 0===t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function c(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function g(t,e){var r;if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return c(t,void 0);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?c(t,void 0):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}return(r=t[Symbol.iterator]()).next.bind(r)}(e=exports.PlayState||(exports.PlayState={})).play="play",e.restart="restart",e.reverse="reverse",e.restartReverse="restartReverse",e.stop="stop",e.stopEnd="stopEnd",e.pause="pause",e.resume="resume",String.prototype.startsWith||(String.prototype.startsWith=function(t,e){return this.indexOf(t,e=e||0)===e});var h,f,d,v=function(t,e,r){void 0===r&&(r=null),r&&t&&t!==e&&(t===exports.PlayState.play?r.play():t===exports.PlayState.restart?r.restart(!0):t===exports.PlayState.reverse?r.reverse():t===exports.PlayState.restartReverse?r.reverse(0):t===exports.PlayState.stop?r.pause(0):t===exports.PlayState.stopEnd?(r.reverse(0),r.pause()):t===exports.PlayState.pause?r.pause():t===exports.PlayState.resume&&r.resume())},m=function(t,e){var r=e.playState;r&&v(r,exports.PlayState.play,t)},y=function(t){return t&&(t===exports.PlayState.stop||t===exports.PlayState.stopEnd||t===exports.PlayState.pause)},S=function(t,e,r){var n,o,s=e.duration,l=void 0===s?1:s,p=e.from,c=e.to,g=e.stagger,h=e.playState,f=e.onCompleteAll,d=e.onCompleteAllParams,v=e.onCompleteAllScope,m=e.onStartAll,S=u(e,["children","wrapper","duration","from","to","stagger","progress","totalProgress","playState","disabled","onlyInvalidateTo","onCompleteAll","onCompleteAllParams","onCompleteAllScope","onStartAll","position","target"]),b=y(h),P=null!==(n=null==r?void 0:r.getPlugins(null==r?void 0:r.plugins,t))&&void 0!==n?n:{};return o=p&&c?i.gsap.fromTo(t,p,a({stagger:g,duration:l,paused:b},c,S,P)):c?i.gsap.to(t,a({stagger:g,duration:l,paused:b},c,S,P)):i.gsap.from(t,a({stagger:g,duration:l,paused:b},p,S,P)),Array.isArray(o)&&(o.forEach((function(t){t.paused(!1)})),o=i.gsap.timeline(a({},S,{tweens:o,smoothChildTiming:!0,onComplete:f,onCompleteParams:d,onCompleteScope:v,onStart:m}))),o},b=function(t,e,r){var n=function(t,e){void 0===e&&(e=0);var r=Object.keys(null!=t?t:{}).find((function(t){return t.startsWith("__reactInternalInstance$")||t.startsWith("__reactFiber$")})),n=r&&t[r];if(!n)return null;if(n._currentElement){for(var i=n._currentElement._owner,o=0;o<e;o++)i=i._currentElement._owner;return i._instance}if(n.stateNode)return n.stateNode;for(var s=function(t){for(var e=t.return;"string"==typeof e.type;)e=e.return;return e},a=s(n),l=0;l<e;l++)a=s(a);return a.stateNode}(t);n?r(n):t&&Object.keys(t).forEach((function(r){var n=t[r];"object"==typeof n&&n.current&&(Array.isArray(n.current)?n.current.forEach((function(t){e(r,t)})):e(r,n.current))}))},P=function(t,e){return null==t?e:t},w=function(t,e,r){void 0!==e.progress&&e.progress!==(null==r?void 0:r.progress)&&t.progress(e.progress),void 0!==e.totalProgress&&e.totalProgress!==(null==r?void 0:r.totalProgress)&&t.totalProgress(e.totalProgress),void 0!==t.duration&&e.duration&&e.duration!==(null==r?void 0:r.duration)&&t.duration(e.duration)},x=n.createContext({registerConsumer:function(){},getPlugins:function(){},plugins:{}}),C=function(t){function e(e){var r;return(r=t.call(this,e)||this).consumers=[],r.plugins={},r.registerConsumer=r.registerConsumer.bind(p(r)),r.getContextValue=r.getContextValue.bind(p(r)),r.getPlugin=r.getPlugin.bind(p(r)),r.getPlugins=r.getPlugins.bind(p(r)),r.renderWithProvider=r.renderWithProvider.bind(p(r)),r}l(e,t);var r=e.prototype;return r.registerConsumer=function(t){this.consumers.push(t)},r.getContextValue=function(t){return void 0===t&&(t={}),{registerConsumer:this.registerConsumer,plugins:t,getPlugins:this.getPlugins}},r.getPlugin=function(t,e){return{}},r.getPlugins=function(t,e){var r=this;return Object.keys(null!=t?t:{}).reduce((function(n,i){var o;return Object.prototype.hasOwnProperty.call(t,i)?a({},n,((o={})[i]=r.getPlugin(t[i],e),o)):n}),{})},r.renderWithProvider=function(t,e){return n.createElement(x.Provider,{value:this.getContextValue(e)},t)},e}(n.Component);function T(t,e){return Math.sqrt(Math.pow(e.x-t.x,2)+Math.pow(e.y-t.y,2))}function E(t){for(var e=t.points,r=0,n=void 0,i=0;i<e.numberOfItems;i++){var o=e.getItem(i);n&&(r+=T(n,o)),n=o}return r}C.contextType=x;var A,k,F,D={version:"2.0.0",name:"svgDraw",register:function(t,e,r){f=(h=t).utils.interpolate,d=h.getProperty},init:function(t,e,r,n,i){var o=function(t){if(t.getTotalLength)return function(t){if(!t.hasAttribute("d"))return t.getTotalLength();var e=t.getAttribute("d"),r=e?e.replace(/m/gi,"M"):null;if(!r)return t.getTotalLength();var n=r.split("M").filter((function(t){return""!==t})).map((function(t){return"M"+t}));if(1===n.length)return t.getTotalLength();var i=0;return n.forEach((function(t){var e=document.createElementNS("http://www.w3.org/2000/svg","path");e.setAttribute("d",t),i=Math.max(i,e.getTotalLength())})),i}(t);switch(t.tagName.toLowerCase()){case"circle":return function(t){return 2*Math.PI*parseFloat(P(t.getAttribute("r"),"1")||"0")}(t);case"rect":return function(t){return 2*parseFloat(P(t.getAttribute("width"),"1")||"0")+2*parseFloat(P(t.getAttribute("height"),"1")||"0")}(t);case"line":return function(t){return T({x:parseFloat(P(t.getAttribute("x1"),"1")||"0"),y:parseFloat(P(t.getAttribute("y1"),"1")||"0")},{x:parseFloat(P(t.getAttribute("x2"),"1")||"0"),y:parseFloat(P(t.getAttribute("y2"),"1")||"0")})}(t);case"polyline":return E(t);case"polygon":return function(t){var e=t.points;return E(t)+T(e.getItem(e.numberOfItems-1),e.getItem(0))}(t);default:return 0}}(t),s=e,a=0;Array.isArray(e)&&(s=e[0],e.length>=2&&(a=-1*e[1])),this.target=t,this.strokeDashoffset=f(d(t,"stroke-dashoffset"),o*a),this.strokeDasharray=f(d(t,"stroke-dasharray"),[s*o,o])},render:function(t,e){e.target.setAttribute("stroke-dashoffset",e.strokeDashoffset(t)),e.target.setAttribute("stroke-dasharray",e.strokeDasharray(t))}};(h||"undefined"!=typeof window&&(h=window.gsap)&&h.registerPlugin&&h)&&h.registerPlugin(D);var O={version:"1.0.0",name:"count",register:function(t,e,r){k=(A=t).utils.interpolate,F=function(t){return parseInt(t.toString(),10)}},init:function(t,e,r,n,i){var o=e,s=F;"object"==typeof e&&(o=P(e.value,0),e.format&&(s=e.format));var a=parseFloat(t.innerText);this.target=t,this.count=k(a,parseFloat(o.toString())),this.format=s},render:function(t,e){e.target.innerText=e.format(e.count(t))}};(A||"undefined"!=typeof window&&(A=window.gsap)&&A.registerPlugin&&A)&&A.registerPlugin(O),i.gsap.registerPlugin(D),i.gsap.registerPlugin(O);var R=function(t){function e(e){var r;return(r=t.call(this,e)||this).targets=[],r.addTarget=r.addTarget.bind(p(r)),r}l(e,t);var i=e.prototype;return i.componentDidMount=function(){this.createTween(),w(this.tween,this.props),m(this.tween,this.props),this.context.registerConsumer(this)},i.componentWillUnmount=function(){this.tween&&this.tween.kill()},i.getSnapshotBeforeUpdate=function(){return this.targets=[],null},i.componentDidUpdate=function(t){var e=this.props,r=e.children,i=e.to,o=e.playState,s=e.disabled,l=e.onlyInvalidateTo,p=u(e,["children","wrapper","duration","from","to","stagger","progress","totalProgress","playState","disabled","onlyInvalidateTo","onCompleteAll","onCompleteAllParams","onCompleteAllScope","onStartAll","position","target"]);if(n.Children.count(t.children)!==n.Children.count(r)&&this.createTween(),!s){if(w(this.tween,this.props,t),g=t.to,JSON.stringify(i)!==JSON.stringify(g)){if(this.tween.getChildren)this.tween.getChildren(!1,!0,!1).forEach((function(t){t.vars=a({},i,p,{delay:0}),t.invalidate()}));else if(this.tween.vars=a({},i,p),l){var c=this.tween.progress();this.tween.progress(0).invalidate().progress(c)}else this.tween.invalidate();this.tween.paused()||this.tween.restart()}var g;v(o,t.playState,this.tween)}},i.createTween=function(){this.tween&&this.tween.kill(),this.tween=this.props.children?S(this.targets,this.props,this.context):function(){}},i.getGSAP=function(){return this.tween},i.setGSAP=function(t){this.tween=t},i.addTarget=function(t){null!==t&&this.targets.push(t)},i.getTargets=function(){return this.targets},i.render=function(){var t=this,e=this.props,i=e.wrapper,o=n.createElement(r.Fragment,null,n.Children.map(e.children,(function(e){return n.cloneElement(e,function(t,e){return t.props.innerRef?{innerRef:function(r){e(r);var n=t.props.innerRef;"function"==typeof n?n(r):n&&(n.current=r)}}:{ref:function(r){e(r);var n=t.ref;"function"==typeof n?n(r):n&&(n.current=r)}}}(e,t.addTarget))})));return i?n.cloneElement(i,[],o):o},e}(n.Component);R.displayName="Tween",R.contextType=x;var I,M=function(t){function e(e){var r;return(r=t.call(this,e)||this).targets=new Map,r.addTarget=r.addTarget.bind(p(r)),r.setTarget=r.setTarget.bind(p(r)),r}l(e,t);var s=e.prototype;return s.componentDidMount=function(){this.createTimeline(),w(this.timeline,this.props),m(this.timeline,this.props),this.context.registerConsumer(this)},s.componentWillUnmount=function(){this.timeline.kill()},s.getSnapshotBeforeUpdate=function(){return this.targets=new Map,null},s.componentDidUpdate=function(t){var e=this.props,r=e.children,i=e.playState;n.Children.count(t.children)!==n.Children.count(r)&&this.createTimeline(),w(this.timeline,this.props,t),v(i,t.playState,this.timeline)},s.createTimeline=function(){var t,e,r,n=this,o=this.props,s=o.playState,l=o.labels,p=u(o,["children","target","duration","progress","totalProgress","playState","labels","position"]);this.timeline&&this.timeline.kill();var c=null!==(t=null===(e=this.context)||void 0===e?void 0:e.getPlugins(null===(r=this.context)||void 0===r?void 0:r.plugins,this.targets))&&void 0!==t?t:{};this.timeline=i.gsap.timeline(a({smoothChildTiming:!0,paused:y(s)},p,c)),l&&l.forEach((function(t){n.timeline.addLabel(t.label,t.position)})),this.consumers.forEach((function(t){if(t.tween&&!t.props.children){var e=t.props,r=e.position,i=e.target,o=e.stagger,s=u(e,["position","target","stagger"]),l=null;null!=i&&(l=n.targets.get(i));var p=S(P(l,Array.from(n.targets.values())),a({stagger:o},s));n.timeline.add(p,P(r,"+=0")),t.setGSAP(p)}else{var c=t.props.position;n.timeline.add(t.getGSAP(),P(c,"+=0"))}}))},s.getGSAP=function(){return this.timeline},s.addTarget=function(t){null!==t&&this.targets.set(this.targets.size,t)},s.setTarget=function(t,e){if(null!==e)if(this.targets.has(t)){var r=this.targets.get(t);Array.isArray(r)?this.targets.set(t,[].concat(r,[e])):this.targets.set(t,[r,e])}else this.targets.set(t,e)},s.setTargets=function(t){this.targets=t},s.getTargets=function(){return this.targets},s.cloneElement=function(t){return n.cloneElement(t,function(t,e,r){return t.props.innerRef?{innerRef:function(n){b(n,e,r);var i=t.props.innerRef;"function"==typeof i?i(n):i&&(i.current=n)}}:{ref:function(n){b(n,e,r);var i=t.ref;"function"==typeof i?i(n):i&&(i.current=n)}}}(t,this.setTarget,this.addTarget))},s.renderTarget=function(t){var e=this;return t?o.isForwardRef(t)?this.cloneElement(t):n.createElement(r.Fragment,null,n.Children.map(t,(function(t){return o.isFragment(t)?n.Children.map(t.props.children,(function(t){return e.cloneElement(t)})):e.cloneElement(t)}))):null},s.render=function(){var t=this.props,e=t.children,i=t.wrapper,o=this.renderTarget(t.target),s=n.createElement(r.Fragment,null,o,e);return i&&(s=n.cloneElement(i,[],s)),this.renderWithProvider(s)},e}(C);M.displayName="Timeline",M.defaultProps={playState:exports.PlayState.play},function(t){t[t.unknown=0]="unknown",t[t.entered=1]="entered",t[t.exited=2]="exited"}(I||(I={}));var j=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).triggerRef=null,e.observer=null,e.intersectionObserverCallback=function(t){for(var r,n=e.props,i=n.repeat,o=n.threshold,s=I.unknown,a=g(t);!(r=a()).done;){var l=r.value;if(l.isIntersecting&&l.intersectionRatio>=o){e.timeline.play(),s=I.entered;break}if(!l.isIntersecting){s=I.exited;break}}i||s!==I.entered?i&&s===I.exited&&e.timeline.pause(0):e.killIntersectionObserver()},e}l(e,t);var r=e.prototype;return r.init=function(){this.createTimeline(),this.createIntersectionObserver()},r.kill=function(){this.killTimeline(),this.killIntersectionObserver()},r.componentDidMount=function(){this.init()},r.componentWillUnmount=function(){this.kill()},r.componentDidUpdate=function(t){var e=this.props,r=e.children,i=e.trigger;n.Children.count(t.children)!==n.Children.count(r)&&this.init(),t.trigger!==i&&this.init()},r.createTimeline=function(){var t=this;this.killTimeline(),this.timeline=i.gsap.timeline({smoothChildTiming:!0,paused:!0}),this.consumers.forEach((function(e){var r=e.props.position;t.timeline.add(e.getGSAP().play(),P(r,0))}))},r.killTimeline=function(){this.timeline&&this.timeline.kill()},r.createIntersectionObserver=function(){var t=this,e=this.props;this.observer=new IntersectionObserver(this.intersectionObserverCallback,{root:e.root,rootMargin:e.rootMargin,threshold:[0,e.threshold]}),this.triggerRef?this.observer&&this.observer.observe(this.triggerRef):this.consumers.forEach((function(e){e.getTargets().forEach((function(e){t.observer&&t.observer.observe(e)}))}))},r.killIntersectionObserver=function(){this.unobserveAll(),this.observer=null},r.unobserveAll=function(){var t=this;this.observer&&(this.triggerRef?this.observer&&this.observer.unobserve(this.triggerRef):this.consumers.forEach((function(e){e.getTargets().forEach((function(e){t.observer&&t.observer.unobserve(e)}))})))},r.getGSAP=function(){return this.timeline},r.render=function(){var t=this,e=this.props,r=e.children,i=e.trigger,o=i?n.createElement(i.type,Object.assign({},i.props,{ref:function(e){return t.triggerRef=e}}),r):r;return this.renderWithProvider(o)},e}(C);j.displayName="Reveal",j.defaultProps={trigger:null,repeat:!1,root:null,rootMargin:"0px",threshold:.66},i.gsap.registerPlugin(s.ScrollTrigger);var W=function(t){function e(e){var r;return(r=t.call(this,e)||this).scrollTrigger=null,r.targets={},r.getPlugin=r.getPlugin.bind(p(r)),r}l(e,t);var r=e.prototype;return r.registerConsumer=function(t){this.context.registerConsumer(t)},r.componentDidMount=function(){var t=this.props,e=t.children,r=u(t,["children"]);e||(this.scrollTrigger=s.ScrollTrigger.create(r))},r.componentWillUnmount=function(){this.scrollTrigger&&this.scrollTrigger.kill()},r.getGSAP=function(){return this.scrollTrigger},r.getPlugin=function(t,e){var r=t.trigger,n=u(t,["children","trigger"]),i=r;if(e instanceof Map)if(i){var o=e.get(i);o&&(i=o)}else i=Array.from(e.values());else i||(i=e);return a({trigger:i},n)},r.render=function(){var t=this.props,e=t.children,r=u(t,["children"]);return e?this.renderWithProvider(e,{scrollTrigger:r}):null},e}(C);W.displayName="ScrollTrigger",W.contextType=x;var U=n.forwardRef((function(t,e){var r=t.children,i=t.wrapper,o=t.delimiter,s=void 0===o?" ":o;if("string"!=typeof r)throw new Error("SplitWords only accepts a string as child.");var a,l,u=r.split(new RegExp("("+(a=s,l=new RegExp("(\\"+["$","^","*","(",")","+","[","]","{","}","\\","|",".","?","/"].join("|\\")+")","g"),a.replace(l,"\\$1")+")"),"g"));return n.createElement(n.Fragment,null,u.map((function(t,r){return" "===s&&t===s?n.createElement(n.Fragment,{key:r}," "):n.cloneElement(i,{ref:e,key:r},t)})))})),_=n.forwardRef((function(t,e){var r=t.children,i=t.wrapper;if("string"!=typeof r)throw new Error("SplitChars only accepts a string as child.");return n.createElement(n.Fragment,null,r.split(/(?=(?:[\0-\uD7FF\uE000-\uFFFF]|[\uD800-\uDBFF][\uDC00-\uDFFF]|[\uD800-\uDBFF](?![\uDC00-\uDFFF])|(?:[^\uD800-\uDBFF]|^)[\uDC00-\uDFFF]))/).map((function(t,r){return" "===t?n.createElement(n.Fragment,{key:r}," "):n.cloneElement(i,{ref:e,key:r},t)})))})),G=n.forwardRef((function(t,e){return console.warn("Deprecation warning: Use SplitChars instead of SplitLetters"),n.createElement(_,Object.assign({},t,{ref:e}))}));exports.Controls=function(t){function e(){var e;return(e=t.apply(this,arguments)||this).sliderTouched=!1,e.state={totalProgress:0,playState:void 0,prevPlayState:void 0},e.containerStyle={backgroundColor:"#f0f0f0",padding:"10px 10px 0 10px",marginTop:"10px",position:"relative",zIndex:2,fontFamily:"verdana, sans-serif",fontSize:"16px",border:"1px solid #ccc"},e.buttonContainerStyle={margin:"0",display:"flex",flexWrap:"wrap",justifyContent:"space-between"},e.buttonStyle={border:"1px solid #999",backgroundColor:"#f0f0f0",padding:"5px",margin:"10px 10px 10px 0",cursor:"pointer"},e.sliderStyle={margin:"0",width:"100%"},e.playStateStyle={color:"#999",margin:"10px 0",fontSize:"14px"},e.onUpdate=function(){if(e.gsap&&e.slider&&!e.sliderTouched){var t=e.gsap.getGSAP().totalProgress();e.slider.value=100*t}},e.onChange=function(t){e.gsap&&e.gsap.getGSAP()&&e.gsap.getGSAP().totalProgress(t.target.value/100)},e.setPlayState=function(t){e.setState((function(e){return{playState:t,prevPlayState:e.playState}}))},e.getControls=function(t,r){return n.createElement("div",{style:e.containerStyle},n.createElement("input",{ref:function(t){return e.slider=t},type:"range",style:e.sliderStyle,step:"0.001",onChange:function(t){return e.onChange(t)},onMouseDown:function(){return e.sliderTouched=!0},onMouseUp:function(){return e.sliderTouched=!1}}),n.createElement("div",{style:e.buttonContainerStyle},n.createElement("div",null,n.createElement("button",{type:"button",style:e.buttonStyle,onClick:function(){return e.setPlayState(exports.PlayState.play)}},"Play"),n.createElement("button",{type:"button",style:e.buttonStyle,onClick:function(){return e.setPlayState(exports.PlayState.reverse)}},"Reverse"),n.createElement("button",{type:"button",style:e.buttonStyle,onClick:function(){return e.setPlayState(exports.PlayState.pause)}},"Pause"),n.createElement("button",{type:"button",style:e.buttonStyle,onClick:function(){return e.setPlayState(exports.PlayState.stop)}},"Stop")),n.createElement("span",{style:e.playStateStyle},r)))},e}l(e,t);var r=e.prototype;return r.componentDidMount=function(){if(this.consumers.length){this.gsap=this.consumers[0];var t=this.gsap.getGSAP();if(t){t.eventCallback("onUpdate",this.onUpdate),this.props.playState?this.setPlayState(this.props.playState):t.paused()?this.setPlayState(exports.PlayState.pause):t.reversed()?this.setPlayState(exports.PlayState.reverse):this.setPlayState(exports.PlayState.play);var e=t.totalProgress();this.slider.value=100*e}}},r.componentDidUpdate=function(){this.onUpdate()},r.render=function(){var t=this.props.children,e=this.state,r=e.totalProgress,i=e.playState;return this.gsap&&v(i,e.prevPlayState,this.gsap.getGSAP()),this.renderWithProvider(n.createElement("div",null,t,this.getControls(r,i)))},e}(C),exports.Reveal=j,exports.ScrollTrigger=W,exports.SplitChars=_,exports.SplitLetters=G,exports.SplitWords=U,exports.Timeline=M,exports.Tween=R;
//# sourceMappingURL=react-gsap.cjs.production.min.js.map
